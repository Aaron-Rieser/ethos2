<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About Gumshoo - Explore Your City</title>
    <link rel="stylesheet" href="fonts.css">
    <style>
        :root {
            --primary-blue: #3388ff;
            --dark-blue: #2c6bb6;
            --white: #ffffff;
            --light-gray: #f5f6fa;
            --text-dark: #ffffff;
            --text-light: #e9e9e9;
            --border-color: #ffffff;
            --dark-bg: #1a1a1a;
            --darker-bg: #0f0f0f;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, var(--dark-bg) 0%, var(--darker-bg) 100%);
            color: var(--text-dark);
            min-height: 100vh;
            line-height: 1.6;
        }

        /* Header Styles */
        .sticky-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(51, 136, 255, 0.9);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            z-index: 1000;
            padding: 10px 0;
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 15px;
        }

        .site-title {
            margin: 0;
            font-size: 24px;
            color: white;
            cursor: pointer;
        }

        /* Logo Dropdown Styles */
        .logo-dropdown {
            position: relative;
            display: inline-block;
        }

        .logo-dropdown-content {
            display: none;
            position: absolute;
            background: rgba(0, 0, 0, 0.9);
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1000;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            top: 100%;
            left: 0;
            margin-top: 5px;
        }

        .logo-dropdown-content a {
            color: white;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            font-size: 0.9rem;
            font-family: 'Sixtyfour', system-ui, sans-serif;
            transition: background-color 0.3s ease;
        }

        .logo-dropdown-content a:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .logo-dropdown-content a:first-child {
            border-radius: 8px 8px 0 0;
        }

        .logo-dropdown-content a:last-child {
            border-radius: 0 0 8px 8px;
        }

        /* Logo dropdown behavior is now handled by JavaScript */

        /* Auth Section */
        .auth-section {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .user-circle {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: #3388ff;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            cursor: pointer;
        }

        .user-dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            right: 0;
            background: #000000;
            border: 1px solid var(--border-color);
            min-width: 120px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
            border-radius: 4px;
        }

        .dropdown-content a {
            color: var(--text-dark);
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            font-family: 'Sixtyfour', system-ui, sans-serif;
            font-size: 0.8em;
        }

        .dropdown-content a:hover {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
        }

        .show {
            display: block;
        }

        .dropdown-content button {
            width: 100%;
            text-align: left;
            background: none;
            border: none;
            padding: 12px 16px;
            cursor: pointer;
            color: var(--text-dark);
            font-family: 'Sixtyfour', system-ui, sans-serif;
            font-size: 0.8em;
            transition: background 0.2s ease;
        }

        .dropdown-content button:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        /* Change Username Modal */
        .username-modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .username-modal-overlay.active {
            display: flex;
        }

        .username-modal {
            background: #1a1a1a;
            border: 2px solid #3388ff;
            border-radius: 12px;
            padding: 30px;
            max-width: 400px;
            width: 90%;
            text-align: center;
        }

        .username-modal h3 {
            font-family: 'Sixtyfour', system-ui, sans-serif;
            color: white;
            font-size: 1.2em;
            margin: 0 0 20px 0;
        }

        .username-modal .current-name {
            font-family: 'Sixtyfour', system-ui, sans-serif;
            color: #3388ff;
            font-size: 0.9em;
            margin-bottom: 15px;
        }

        .username-modal .clever-text {
            font-family: 'Sixtyfour', system-ui, sans-serif;
            color: #888;
            font-size: 0.7em;
            margin-bottom: 20px;
            font-style: italic;
        }

        .username-modal input {
            width: 100%;
            padding: 12px;
            border: 2px solid #333;
            border-radius: 8px;
            background: #0f0f0f;
            color: white;
            font-family: 'Sixtyfour', system-ui, sans-serif;
            font-size: 0.9em;
            margin-bottom: 20px;
            box-sizing: border-box;
        }

        .username-modal input:focus {
            outline: none;
            border-color: #3388ff;
        }

        .username-modal-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
        }

        .username-modal-buttons button {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-family: 'Sixtyfour', system-ui, sans-serif;
            font-size: 0.8em;
            cursor: pointer;
            transition: all 0.2s ease;
            width: auto;
            text-align: center;
        }

        .username-modal-buttons .confirm-btn {
            background: #3388ff;
            color: white;
        }

        .username-modal-buttons .confirm-btn:hover {
            background: #2c6bb6;
        }

        .username-modal-buttons .cancel-btn {
            background: #333;
            color: white;
        }

        .username-modal-buttons .cancel-btn:hover {
            background: #444;
        }

        .dropdown-content .user-email {
            display: block;
            padding: 12px 16px;
            color: var(--text-light);
            border-bottom: 1px solid var(--border-color);
            font-family: 'Sixtyfour', system-ui, sans-serif;
            font-size: 0.8em;
        }

        #login {
            background-color: #3388ff;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 8px 16px;
            cursor: pointer;
        }

        #logout-button {
            background-color: #f44336;
            color: white;
            border: none;
            padding: 8px 16px;
            cursor: pointer;
            width: 100%;
            text-align: left;
        }

        /* Main Content */
        .main-content {
            margin-top: 80px;
            min-height: calc(100vh - 140px);
            padding: 40px 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        .main-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 30px;
            color: var(--text-dark);
        }

        .description {
            font-size: 1.2rem;
            color: var(--text-light);
            margin-bottom: 40px;
            line-height: 1.8;
        }

        .progress-flag {
            background: linear-gradient(45deg, #ff6b6b, #ff8e53);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 40px;
            text-align: center;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(--primary-blue);
        }

        .section-content {
            color: var(--text-light);
            line-height: 1.7;
        }

        .bug-list, .feature-list {
            list-style: none;
            margin-top: 15px;
        }

        .bug-list li, .feature-list li {
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .bug-list li:last-child, .feature-list li:last-child {
            border-bottom: none;
        }

        /* Footer Styles - Matching Map Page */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: rgba(51, 136, 255, 0.9);
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: space-between;
            align-items: stretch;
            z-index: 1000;
            height: 60px;
            box-shadow: 0 -2px 8px rgba(0,0,0,0.1);
        }

        .bottom-nav .nav-btn {
            flex: 1 1 0;
            background: none;
            border: none;
            color: white;
            font-family: 'Sixtyfour', system-ui, sans-serif !important;
            font-size: 1em;
            font-weight: 600;
            text-align: center;
            text-decoration: none;
            padding: 0;
            margin: 0;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border-right: 1px solid rgba(255, 255, 255, 0.2);
            transition: background 0.2s ease;
        }

        .bottom-nav .nav-btn:last-child {
            border-right: none;
        }

        .bottom-nav .nav-btn:hover,
        .bottom-nav .nav-btn:focus {
            background: rgba(255, 255, 255, 0.15);
            outline: none;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px 15px;
            }
            
            .main-title {
                font-size: 2rem;
            }
            
            .description {
                font-size: 1.1rem;
            }
        }
    </style>
</head>
<body>
    <header class="sticky-header">
        <div class="header-content">
            <div class="logo-dropdown">
                <h1 class="site-title" id="logoDropdown">gumshoo</h1>
                <div class="logo-dropdown-content">
                    <a href="index.html">Home</a>
                    <a href="about.html">About</a>
                    <a href="contact.html">Contact</a>
                </div>
            </div>
            <div class="auth-section">
                <button id="login">Log In</button>
                <div class="user-dropdown">
                    <div id="userInitial" class="user-circle" style="display: none;"></div>
                    <div class="dropdown-content">
                        <span class="user-email"></span>
                        <a href="/account.html">My messages</a>
                        <button id="changeUsername">Change account name</button>
                        <button id="logout-button">Logout</button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main class="main-content">
        <div class="container">
            <h1 class="main-title">Gumshoo is on a mission to connect you with local</h1>
            
            <p class="description">
                Welcome to our world. Gumshoo is a local based social media project to allow you to create content and connect with others based on location based logic. This platform is designed to allow you to access the things around you easier.
            </p>

            <div class="progress-flag">
                ðŸš§ Gumshoo is a work in progress ðŸš§<br>
                thank you for your patience :)
            </div>

            <div class="section">
                <h2 class="section-title">Known Bugs</h2>
                <div class="section-content">
                    <ul class="bug-list">
                        <li>Images load slowly</li>
                        <li>Mobile devices persistent login is not yet stable - you may be required to login more than traditional sites on mobile</li>
                        <li>Location permission continuously allowed on most feed or post pages</li>
                    </ul>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">Feature Roadmap</h2>
                <div class="section-content">
                    <ul class="feature-list">
                        <li>Follow a friend feature</li>
                        <li>Email notification</li>
                        <li>Comment ranking - adding upvotes to comments and sorting comments on posts by rank</li>
                    </ul>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <div class="bottom-nav">
        <a href="feed.html" class="nav-btn">Feed</a>
        <a href="create.html" class="nav-btn" id="createPostLink">New post</a>
        <button class="nav-btn" onclick="openSearch()">Search</button>
    </div>

    <!-- Change Username Modal -->
    <div class="username-modal-overlay" id="usernameModal">
        <div class="username-modal">
            <h3>Change account name</h3>
            <div class="current-name">Current name: <span id="currentUsername"></span></div>
            <div class="clever-text">Think of something clever, ya gumshoo</div>
            <input type="text" id="newUsernameInput" placeholder="Enter new name" maxlength="50">
            <div class="username-modal-buttons">
                <button class="cancel-btn" onclick="closeUsernameModal()">Cancel</button>
                <button class="confirm-btn" onclick="confirmUsernameChange()">Confirm</button>
            </div>
        </div>
    </div>

    <!-- Auth0 Script -->
    <script src="https://cdn.auth0.com/js/auth0-spa-js/2.0/auth0-spa-js.production.js"></script>
    <script src="auth.js"></script>
    <script src="dropdown.js"></script>
    <script>
        // Search functionality
        function openSearch() {
            window.location.href = 'index.html#search';
        }
        
        // Change Username functionality
        async function openUsernameModal() {
            try {
                const token = await auth0Client.getTokenSilently();
                const response = await fetch('/api/account/username', {
                    headers: { 'Authorization': `Bearer ${token}` }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    document.getElementById('currentUsername').textContent = data.username;
                    document.getElementById('newUsernameInput').value = '';
                    document.getElementById('usernameModal').classList.add('active');
                }
            } catch (error) {
                console.error('Error fetching username:', error);
                alert('Error loading account info. Please try again.');
            }
        }
        
        function closeUsernameModal() {
            document.getElementById('usernameModal').classList.remove('active');
        }
        
        async function confirmUsernameChange() {
            const newUsername = document.getElementById('newUsernameInput').value.trim();
            
            if (!newUsername) {
                alert('Please enter a new name');
                return;
            }
            
            try {
                const token = await auth0Client.getTokenSilently();
                const response = await fetch('/api/account/username', {
                    method: 'PUT',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ username: newUsername })
                });
                
                if (response.ok) {
                    const data = await response.json();
                    closeUsernameModal();
                    const userEmailSpan = document.querySelector('.user-email');
                    if (userEmailSpan) {
                        userEmailSpan.textContent = data.username;
                    }
                    alert('Account name changed successfully!');
                } else {
                    const error = await response.json();
                    alert(error.error || 'Error changing name');
                }
            } catch (error) {
                console.error('Error changing username:', error);
                alert('Error changing name. Please try again.');
            }
        }
        
        // Set up change username button handler
        document.addEventListener('DOMContentLoaded', () => {
            const changeUsernameBtn = document.getElementById('changeUsername');
            if (changeUsernameBtn) {
                changeUsernameBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    openUsernameModal();
                });
            }
            
            const modal = document.getElementById('usernameModal');
            if (modal) {
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        closeUsernameModal();
                    }
                });
            }
        });
    </script>
</body>
</html> 